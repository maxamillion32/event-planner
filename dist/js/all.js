"use strict";!function(e){function a(e){-1===e.indexOf(FV.Validator.EMAIL)?(ve.className="val-check-good",ve.innerHTML='<i class="fa fa-thumbs-o-up"></i> Must use a valid email address'):(ve.className="val-check-bad",ve.innerHTML='<i class="fa fa-thumbs-o-down"></i> Must use a valid email address'),-1===e.indexOf(FV.Validator.MINLENGTH)?(oe.className="val-check-good",oe.innerHTML='<i class="fa fa-thumbs-o-up"></i> Password must be at least 8 characters long'):(oe.className="val-check-bad",oe.innerHTML='<i class="fa fa-thumbs-o-down"></i> Password must be at least 8 characters long'),-1===e.indexOf(FV.Validator.CONTAINSUPPER)?(re.className="val-check-good",re.innerHTML='<i class="fa fa-thumbs-o-up"></i> Password must contain at least one upper case character'):(re.className="val-check-bad",re.innerHTML='<i class="fa fa-thumbs-o-down"></i> Password must contain at least one upper case character'),-1===e.indexOf(FV.Validator.CONTAINSLOWER)?(ce.className="val-check-good",ce.innerHTML='<i class="fa fa-thumbs-o-up"></i> Password must contain at least one lower case character'):(ce.className="val-check-bad",ce.innerHTML='<i class="fa fa-thumbs-o-down"></i> Password must contain at least one lower case character'),-1===e.indexOf(FV.Validator.CONTAINSSPECIAL)?(de.className="val-check-good",de.innerHTML='<i class="fa fa-thumbs-o-up"></i> Password must contain at least one special character (!, @, #, $, %, ^, &, *)'):(de.className="val-check-bad",de.innerHTML='<i class="fa fa-thumbs-o-down"></i> Password must contain at least one special character (!, @, #, $, %, ^, &, *)'),-1===e.indexOf(FV.Validator.EQUALSFIELD)&&""!==y.value&&""!==I.value?(ue.className="val-check-good",ue.innerHTML='<i class="fa fa-thumbs-o-up"></i> Passwords must match'):(ue.className="val-check-bad",ue.innerHTML='<i class="fa fa-thumbs-o-down"></i> Passwords must match'),-1===e.indexOf(FV.Validator.CONTAINSNUMBER)?(he.className="val-check-good",he.innerHTML='<i class="fa fa-thumbs-o-up"></i> Password must contain at least one number'):(he.className="val-check-bad",he.innerHTML='<i class="fa fa-thumbs-o-down"></i> Password must contain at least one number'),""===E.value||""===w.value||""===y.value||""===I.value?(me.className="val-check-bad",me.innerHTML='<i class="fa fa-thumbs-o-down"></i> All required fields must be filled out'):(me.className="val-check-good",me.innerHTML='<i class="fa fa-thumbs-o-up"></i> All required fields must be filled out')}function t(e,a){e||(a?(X=u.child("users/"+a.uid),Y=X.child("events/"),Z=X.child("extra/"),ae===!0&&(ae=!1,Z.set({name:E.value,employer:b.value,title:A.value,birthday:B.value})),g.hidden=!1,p.hidden=!0,APP.displayEventCreation(),Y.on("value",function(e){K=e.val(),s()},function(e){console.log("Error: ",e)})):console.log("User is logged out"))}function n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function s(){n(j),K.forEach(function(a){var t=e.createElement("div");t.className="card-width mdl-card mdl-shadow--2dp vert-cent animated slideInDown";var n=e.createElement("div");n.className="mdl-card__title";var s=e.createElement("h2");s.className="mdl-card__title-text",s.appendChild(e.createTextNode(a.title));var i=e.createElement("a");i.setAttribute("href","#"),i.setAttribute("title","Delete"),i.className="card-trash",i.setAttribute("onclick",'APP.removeEvent("'+a.id+'")'),i.innerHTML='<i class="fa fa-trash-o"></i>',s.appendChild(i),n.appendChild(s),t.appendChild(n);var l=e.createElement("div");l.className="mdl-card__supporting-text";var o=e.createElement("p");o.innerHTML="<b>"+a.host+"</b> is hosting a <b>"+a.type+"</b> at ",l.appendChild(o),o=e.createElement("p"),o.innerHTML=a.address+"<br />"+a.city+", "+a.state+" "+a.zip+"<br />"+a.country,l.appendChild(o),o=e.createElement("p"),o.appendChild(e.createTextNode("on")),l.appendChild(o),o=e.createElement("p");var d=new Date(a.begin),r=new Date(a.end);o.innerHTML="<b>"+d.toLocaleString()+"</b> to <b>"+r.toLocaleString()+"</b>",l.appendChild(o),o=e.createElement("p"),o.innerHTML="and <b>"+a.host+"</b> wishes to let you know that<br/>"+a.message,l.appendChild(o),t.appendChild(l),j.appendChild(t)})}function i(){var e=VTILAPP.vtil.tags.slice(0);e.forEach(function(e){VTILAPP.vtil.removeTag(e.id)})}function l(e){Q.forEach(function(a){a.value="",a.disabled=e})}function o(){k=e.getElementById("eventName"),C=e.getElementById("eventType"),F=e.getElementById("eventHost"),M=e.getElementById("startDate"),H=e.getElementById("endDate"),_=e.getElementById("location-input"),l(!0),i()}function d(){var e=ee.getPlace();l(!1);var a=!0,t=!1,n=void 0;try{for(var s,i=e.address_components[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value,d=o.types[0];switch(d){case"street_number":x.value=o.short_name;break;case"route":U.value=o.short_name;break;case"locality":D.value=o.short_name;break;case"administrative_area_level_1":R.value=o.short_name;break;case"postal_code":q.value=o.short_name;break;case"country":W.value=o.short_name}}}catch(r){t=!0,n=r}finally{try{!a&&i["return"]&&i["return"]()}finally{if(t)throw n}}}function r(){v.hidden=!0,P.hidden=!1,f.hidden=!0,N.hidden=!0,J.hidden=!0,APP.checkEventFields()}function c(){v.hidden=!0,P.hidden=!0,f.hidden=!0,N.hidden=!0,J.hidden=!1}window.APP=window.APP||{},window.VTILAPP=Object.create(null);var u=new Firebase("https://swanky-event-planner.firebaseIO.com"),m=e.getElementById("signin-email"),h=e.getElementById("signin-password"),v=e.getElementById("sign-in-container"),g=e.getElementById("sign-out-link"),p=e.getElementById("sign-in-link"),f=e.getElementById("sign-up-container"),P=e.getElementById("event-planner-container"),E=e.getElementById("signup-name"),w=e.getElementById("signup-email"),y=e.getElementById("signup-password"),I=e.getElementById("signup-password2"),b=e.getElementById("signup-employer"),A=e.getElementById("signup-title"),B=e.getElementById("signup-birthday"),V=e.getElementById("submit-password-button"),T=e.getElementById("signup-additional-info"),L=e.getElementById("switch-1"),N=e.getElementById("reset-password-container"),k=(e.getElementById("reset-password-email"),e.getElementById("event-name")),C=e.getElementById("event-type"),F=e.getElementById("event-host"),M=e.getElementById("start-date"),H=e.getElementById("end-date"),S=e.getElementById("vtil-content"),O=e.getElementById("vtil-input"),_=e.getElementById("location-input"),x=e.getElementById("street-number"),U=e.getElementById("route"),D=e.getElementById("city"),R=e.getElementById("state"),q=e.getElementById("postal-code"),W=e.getElementById("country"),$=e.getElementById("message"),z=e.getElementById("progress-bar"),G=e.getElementById("progress-bar-label"),Q=[x,U,D,R,q,W],j=e.getElementById("event-container"),J=e.getElementById("show-event-container"),K=[],X=void 0,Y=void 0,Z=void 0,ee=void 0,ae=!1,te=0,ne=new FV.Validator,se=new FV.Field("Password1",y),ie=new FV.Field("Password2",I,y),le=new FV.Field("EmailError",w),oe=e.getElementById("val-check-length"),de=e.getElementById("val-check-special"),re=e.getElementById("val-check-upper"),ce=e.getElementById("val-check-lower"),ue=e.getElementById("val-check-match"),me=e.getElementById("val-check-required"),he=e.getElementById("val-check-number"),ve=e.getElementById("val-check-email");se.constraints=[new FV.Constraint(FV.Validator.MINLENGTH,"* Password must be at least 8 characters long.\n",8),new FV.Constraint(FV.Validator.CONTAINSUPPER,"* Password must contain at least one upper case letter.\n"),new FV.Constraint(FV.Validator.CONTAINSLOWER,"* Password must contain at least one lower case letter.\n"),new FV.Constraint(FV.Validator.CONTAINSSPECIAL,"* Password must contain at least one special character (!, @, #, $, %, ^, &, *).\n"),new FV.Constraint(FV.Validator.CONTAINSNUMBER,"* Password must contain at least one number.\n")],ie.constraints=[new FV.Constraint(FV.Validator.EQUALSFIELD,"* Must match your password.\n")],le.constraints=[new FV.Constraint(FV.Validator.EMAIL,"* Must be a valid email address.\n")],ne.fields=[se,ie,le],APP.signUp=function(){u.createUser({email:w.value,password:y.value},function(e,a){e?console.log("Error creating user:",e):(ae=!0,APP.signIn(w.value,y.value))})},APP.validateSignUp=function(e){var t=ne.checkForErrors(),n=[],s="",i="",l="";t.forEach(function(e){switch(e.name){case"Password1":s+=e.error,n.push(e.type);break;case"Password2":i+=e.error,n.push(e.type);break;case"EmailError":l+=e.error,n.push(e.type)}}),""!==s&&(s="Please correct the following errors:\n"+s),""!==i&&(i="Please correct the following errors:\n"+i),""!==l&&(l="Please correct the following errors:\n"+l),e||(y.setCustomValidity(s),I.setCustomValidity(i)),a(n)},V.onclick=APP.validateSignUp,APP.showAdditionalInfo=function(){T.hidden=!L.checked},APP.signIn=function(e,a){var n=e||m.value,s=a||h.value;u.authWithPassword({email:n,password:s},t)},APP.signOut=function(){g.hidden=!0,p.hidden=!1,u.unauth(),Y.off(),Z.off(),X=void 0,Y=void 0,Z=void 0,m.value="",h.value="",E.value="",w.value="",y.value="",I.value="",o(),n(j),APP.showSignIn()},APP.resetPassword=function(){u.resetPassword({email:""},function(e){if(e)switch(e.code){case"INVALID_USER":console.log("The specified user account does not exist.");break;default:console.log("Error resetting password:",e)}else console.log("Password reset email sent successfully!")})},VTILAPP.vtil=new VTIL(S,O,"VTILAPP.vtil"),APP.checkEventFields=function(){var e=0;""!==k.value&&(e+=1),""!==C.value&&(e+=1),""!==F.value&&(e+=1),""!==M.value&&(e+=1),""!==H.value&&(e+=1),VTILAPP.vtil.tags.length>0&&(e+=1),""!==x.value&&(e+=1),""!==U.value&&(e+=1),""!==D.value&&(e+=1),""!==R.value&&(e+=1),""!==q.value&&(e+=1),""!==W.value&&(e+=1),""!==$.value&&(e+=1),te=e,G.innerHTML=te.toString()+" of 13 fields completed",z.value=te},APP.displayEventCreation=function(){Y&&r()},APP.displayEvents=function(){Y&&c()},APP.addTag=function(){VTILAPP.vtil.addTag(),APP.checkEventFields()},APP.initAutocomplete=function(){ee=new google.maps.places.Autocomplete(_,{types:["geocode"]}),ee.addListener("place_changed",d)},APP.geolocate=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var a={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.Circle({center:a,radius:e.coords.accuracy});ee.setBounds(t.getBounds())})},APP.removeEvent=function(e){for(var a=-1,t=0;t<K.length;++t)if(e===K[t].id){a=t;break}-1!==a&&(K=K.splice(a,1),Y.set(K))},APP.submitForm=function(){var e=new Date;K.push({id:e.toISOString(),title:k.value,type:C.value,host:F.value,begin:M.value,end:H.value,guests:VTILAPP.vtil.tags,address:x.value+" "+U.value,city:D.value,state:R.value,zip:q.value,country:W.value,message:$.value}),Y.set(K),o()},window.onbeforeunload=APP.signOut,APP.showSignUp=function(){v.hidden=!0,P.hidden=!0,f.hidden=!1,N.hidden=!0,J.hidden=!0,APP.validateSignUp(!0)},APP.showSignIn=function(){v.hidden=!1,P.hidden=!0,f.hidden=!0,N.hidden=!0,J.hidden=!0},APP.showResetPassword=function(){v.hidden=!0,P.hidden=!0,f.hidden=!0,N.hidden=!1,J.hidden=!0}}(document);
//# sourceMappingURL=../maps/all.js.map
