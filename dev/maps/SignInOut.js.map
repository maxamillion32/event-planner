{"version":3,"sources":["SignInOut.js"],"names":[],"mappings":"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","file":"SignInOut.js","sourcesContent":["/*jshint esversion: 6 */\n\nvar SignInOut = (function(document) {\n\t'use strict';\n\n\t//signing in\n\tlet _signInEmailEl = \t\tdocument.getElementById('signin-email');\n\tlet _signInPasswordEl = \tdocument.getElementById('signin-password');\n\tlet _signOutLinkEl =\t\tdocument.getElementById('sign-out-link');\n\tlet _signInLinkEl =\t\t\tdocument.getElementById('sign-in-link');\n\tlet _signupEmployerEl =\t\tdocument.getElementById('signup-employer');\n\tlet _signupTitleEl =\t\tdocument.getElementById('signup-title');\n\tlet _signupBirthdayEl =\t\tdocument.getElementById('signup-birthday');\n\tlet _signInButton =\t\t\tdocument.getElementById('sign-in-button');\n\n\tlet _storeExtra = false;\n\n\t/**\n\t* Clear all child elements\n\t*\n\t**/ \n\tfunction _clearEl(el) {\n\n\t\twhile (el.firstChild) {\n\n\t\t\tel.removeChild(el.firstChild);\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Represents an Sign In page and includes sign out functionality\n\t * @class SignInOut\n\t * \n\t */\n\treturn class SignInOut {\n\n\t\t/**\n\t     * SignInOut constructor.\n\t     * @constructs SignInOut\n\t     * @param {object} fbRef Firebase Reference\n\t     */\n\t\tconstructor(fbRef) {\n\n\t\t\t/**\n\t         * Firebase Reference\n\t         * @member SignInOut#fbRef\n\t         * @type {Object}\n\t         */\n\t\t\tthis.fbRef = fbRef;\n\n\t\t\t/**\n\t         * Firebase User Route Reference\n\t         * @member SignInOut#userRef\n\t         * @type {Object}\n\t         */\n\t\t\tthis.userRef = undefined;\n\n\t\t\t/**\n\t         * Firebase Event Route Reference\n\t         * @member SignInOut#eventRef\n\t         * @type {Object}\n\t         */\n\t\t\tthis.eventRef = undefined;\n\n\t\t\t/**\n\t         * Firebase Extra Info Route Reference\n\t         * @member SignInOut#extraRef\n\t         * @type {Object}\n\t         */\n\t\t\tthis.extraRef = undefined;\n\n\t\t}\n\n\t\t/**\n\t\t * SignIn Email Element\n\t\t * @return {Object} SignIn Email Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signInEmailEl() {\n\n\t\t\treturn _signInEmailEl;\n\t\t}\n\n\t\t/**\n\t\t * SgnIn Password Element\n\t\t * @return {Object} SignIn Password Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signInPasswordEl() {\n\n\t\t\treturn _signInPasswordEl;\n\t\t}\n\n\t\t/**\n\t\t * SignOut Link Element\n\t\t * @return {Object} SignOut Link Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signOutLinkEl() {\n\n\t\t\treturn _signOutLinkEl;\n\t\t}\n\n\t\t/**\n\t\t * SignIn Link Element\n\t\t * @return {Object} SignIn Link Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signInLinkEl() {\n\n\t\t\treturn _signInLinkEl;\n\t\t}\n\n\t\t/**\n\t\t * SignIn Employer Element\n\t\t * @return {Object} SignUp Employer Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signupEmployerEl() {\n\n\t\t\treturn _signupEmployerEl;\n\t\t}\n\n\t\t/**\n\t\t * SignIn Title Element\n\t\t * @return {Object} Signup Title Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signupTitleEl() {\n\n\t\t\treturn _signupTitleEl;\n\t\t}\n\n\t\t/**\n\t\t * SignIn Birthday Element\n\t\t * @return {Object} Signup Birthday Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signupBirthdayEl() {\n\n\t\t\treturn _signupBirthdayEl;\n\t\t}\n\n\t\t/**\n\t\t * SignIn Button Element\n\t\t * @return {Object} SignIn Button Element\n\t\t * @memberof SignInOut\n\t\t * @type {Object}\n\t\t * \n\t\t */\n\t\tstatic get signInButton() {\n\n\t\t\treturn _signInButton;\n\n\t\t}\n\n\t\t/**\n\t\t * Indicates if we will be storing additional user info when signing in (after a signup)\n\t\t * @return {boolean} Indicates if we will be storing additional user info when signing in (after a signup)\n\t\t * @memberof SignInOut\n\t\t * @type {boolean}\n\t\t * \n\t\t */\n\t\tstatic get storeExtra() {\n\n\t\t\treturn _storeExtra;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if we will be storing additional user info when signing in (after a signup)\n\t\t * @memberof SignInOut\n\t\t * @param {boolean} pred Indicates if we will be storing additional user info when signing in (after a signup)\n\t\t * @type {boolean}\n\t\t * \n\t\t */\n\t\tstatic set storeExtra(pred) {\n\n\t\t\t_storeExtra = pred;\n\t\t}\n\n\t\t/** \n\t\t*   @function validateSignIn\n\t\t*   @memberof SignInOut\n\t\t*   \n\t\t*/\n\t\tstatic validateSignIn() {\n\n\t\t\t_signInButton.disabled = _signInEmailEl.value === '' || _signInPasswordEl.value === '';\n\n\t\t}\n\n\t\t/** \n\t\t*   @function authHandler\n\t\t*   @memberof SignInOut\n\t\t*   @param {object} error Holds the error if set\n\t\t*   @param {object} authData Users auth data from firebase\n\t\t*   @instance\n\t\t*/\n\t\tauthHandler(error, authData) {\n\n\t\t\tif(error) {\n\n\t\t\t\t//Handle the error\n\n\t\t\t} else if (!authData) {\n\n\t\t\t\tconsole.log(\"User is logged out\");\n\n\t\t\t} else {\n\n\t\t\t\t/**\n\t\t         * Firebase user route reference\n\t\t         * @member SignInOut#userRef\n\t\t         * @type {object}\n\t\t         */\n\t\t\t\tthis.userRef = \tthis.fbRef.child('users/' + authData.uid);\n\n\t\t\t\t/**\n\t\t         * Firebase events route reference\n\t\t         * @member SignInOut#eventRef\n\t\t         * @type {object}\n\t\t         */\n\t\t\t\tthis.eventRef = this.userRef.child('events/');\n\n\t\t\t\t/**\n\t\t         * Firebase extras route reference\n\t\t         * @member SignInOut#extraRef\n\t\t         * @type {object}\n\t\t         */\n\t\t\t\tthis.extraRef = this.userRef.child('extra/');\n\n\t\t\t\t//If just signing up store the extra user data\n\t\t\t\tif(_storeExtra === true) {\n\n\t\t\t\t\t_storeExtra = false;\n\n\t\t\t\t\tthis.extraRef.set({\n\n\t\t\t\t\t\tname: \t\t_signupNameEl.value,\n\t\t\t\t\t\temployer: \t_signupEmployerEl.value,\n\t\t\t\t\t\ttitle: \t\t_signupTitleEl.value,\n\t\t\t\t\t\tbirthday: \t_signupBirthdayEl.value\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\t_signOutLinkEl.hidden = \tfalse;\n\t\t\t\t_signInLinkEl.hidden = \ttrue;\n\n\t\t\t\t// Dispatch/Trigger/Fire the event\n\t\t\t\tdocument.dispatchEvent(new CustomEvent(\"signed-in\"));\n\n\t\t\t\tDisplayer.showEventPlanner();\n\n\t\t\t}\n\n\t\t}\n\n\t\t/**\n\t\t * @function signIn\n\t\t *   @memberof SignInOut\n\t\t *   @param {string} emailIn Holds the users email\n\t\t *   @param {string} passwordIn Holds the users password\n\t\t *   @instance\n\t\t * \n\t\t */\n\t\tsignIn(emailIn, passwordIn) {\n\n\t\t\tlet email = \temailIn || _signInEmailEl.value;\n\t\t\tlet password = \tpasswordIn || _signInPasswordEl.value;\n\n\t\t\t// Sign in with an email/password combination\n\t\t\tthis.fbRef.authWithPassword({\n\t\t\t  email : \t\temail ,\n\t\t\t  password : \tpassword\n\t\t\t}, this.authHandler.bind(this));\n\n\t\t}\n\n\t\t/**\n\t\t * @function signOut\n\t\t * @memberof SignInOut\n\t\t * @instance\n\t\t * \n\t\t */\n\t\tsignOut() {\n\n\t\t\t_signOutLinkEl.hidden = \t\ttrue;\n\t\t\t_signInLinkEl.hidden = \t\t\tfalse;\n\t\t\tthis.fbRef.unauth();\n\t\t\tthis.eventRef.off();\n\t\t\tthis.extraRef.off();\n\t\t\tthis.userRef = \t\t\t\t\tundefined;\n\t\t\tthis.eventRef = \t\t\t\tundefined;\n\t\t\tthis.extraRef = \t\t\t\tundefined;\n\t\t\t_signInEmailEl.value = \t\t\t'';\n\t\t\t_signInPasswordEl.value = \t\t'';\n\n\t\t\tSignUp.signupNameEl.value = \t\t'';\n\t\t\tSignUp.signupEmailEl.value = \t\t'';\n\t\t\tSignUp.signupPasswordEl.value = \t'';\n\t\t\tSignUp.signupPassword2El.value = \t'';\n\t\t\tEventPlanner.clearElements();\n\t\t\t_clearEl(_eventContainerEl);\n\n\t\t\tdocument.dispatchEvent(new CustomEvent(\"signed-out\"));\n\n\t\t\tDisplay.showSignIn();\n\n\t\t}\n\n\t};\n\n})(document);"],"sourceRoot":"/source/"}