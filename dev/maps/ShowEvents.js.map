{"version":3,"sources":["ShowEvents.js"],"names":[],"mappings":"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","file":"ShowEvents.js","sourcesContent":["/*jshint esversion: 6 */\n\nvar ShowEvents = (function(document) {\n\t'use strict';\n\n\t/**\n\t* Clear all child elements\n\t*\n\t**/ \n\tfunction _clearEl(el) {\n\n\t\twhile (el.firstChild) {\n\n\t\t\tel.removeChild(el.firstChild);\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Draw the events to te screen\n\t * \n\t */\n\tfunction _redrawEvents(events) {\n\n\t\t_clearEl(Displayer.eventContainerEl);\n\n\t\tevents.forEach(event => {\n\n\t\t\t//Create the card\n\t\t\tlet cardDiv = document.createElement('div');\n\t\t\tcardDiv.className = \"card-width mdl-card mdl-shadow--2dp vert-cent animated slideInDown\";\n\n\t\t\t//Card Title\n\t\t\tlet cardTitleDiv = document.createElement('div');\n\t\t\tcardTitleDiv.className = \"mdl-card__title\";\n\t\t\tlet headerDiv = document.createElement('h2');\n\t\t\theaderDiv.className = \"mdl-card__title-text\";\n\t\t\theaderDiv.appendChild(document.createTextNode(event.title));\n\n\t\t\tlet del = document.createElement('a');\n\t\t\tdel.setAttribute('href', \"#\");\n\t\t\tdel.setAttribute('title', \"Delete\");\n\t\t\tdel.className = \"card-trash\";\n\t\t\tdel.setAttribute('onclick', 'APP.removeEvent(\"' + event.id + '\")');\n\t\t\tdel.innerHTML = '<i class=\"fa fa-trash-o\"></i>';\n\n\t\t\theaderDiv.appendChild(del);\n\t\t\tcardTitleDiv.appendChild(headerDiv);\n\t\t\tcardDiv.appendChild(cardTitleDiv);\n\n\t\t\t//Card Body\n\t\t\tlet cardContentDiv = document.createElement('div');\n\t\t\tcardContentDiv.className = \"mdl-card__supporting-text\";\n\t\t\tlet p = document.createElement('p');\n\t\t\tp.innerHTML = \"<b>\" + event.host + '</b> is hosting a ' + '<b>' + \n\t\t\tevent.type + '</b> at ';\n\t\t\tcardContentDiv.appendChild(p);\n\n\t\t\tp = document.createElement('p');\n\t\t\tp.innerHTML = event.address + '<br />' + event.city + ', ' + \n\t\t\tevent.state + ' ' + event.zip + '<br />' + event.country;\n\t\t\tcardContentDiv.appendChild(p);\n\n\t\t\tp = document.createElement('p');\n\t\t\tp.appendChild(document.createTextNode(\"on\"));\n\t\t\tcardContentDiv.appendChild(p);\n\n\t\t\tp = document.createElement('p');\n\t\t\tlet begin = new Date(event.begin);\n\t\t\tlet end = new Date(event.end);\n\t\t\tp.innerHTML = '<b>' + begin.toLocaleString() + '</b>' + ' to ' + \n\t\t\t'<b>' + end.toLocaleString() + '</b>';\n\t\t\tcardContentDiv.appendChild(p);\n\n\t\t\tp = document.createElement('p');\n\t\t\tp.innerHTML = 'and <b>' + event.host + '</b> wishes to let you know that<br/>' + event.message;\n\t\t\tcardContentDiv.appendChild(p);\n\n\t\t\tcardDiv.appendChild(cardContentDiv);\n\t\t\tDisplayer.eventContainerEl.appendChild(cardDiv);\n\n\t\t});\n\n\t}\n\n\t/**\n\t * Represents a ShowEvents Page\n\t * @class ShowEvents\n\t * \n\t */\n\treturn class ShowEvents {\n\n\t\t/**\n\t     * ShowEvents constructor.\n\t     * @constructs ShowEvents\n\t     * @param {array} events events to display\n\t     * @param {object} eventRef Firebase reference to the events route\n\t     */\n\t\tconstructor(events, eventRef) {\n\n\t\t\t/**\n\t         * The events\n\t         * @member ShowEvents#events\n\t         * @type {array}\n\t         */\n\t\t\tthis.events = events || [];\n\n\t\t\t/**\n\t         * Frebase events reference\n\t         * @member ShowEvents#eventRef\n\t         * @type {object}\n\t         */\n\t\t\tthis.eventRef = eventRef;\n\n\t\t\tif(this.eventRef) {\n\n\t\t\t\tthis.listenForEvents();\n\n\t\t\t}\n\n\t\t}\n\n\t\t/**\n\t\t * @function listenForEvents\n\t\t * @memberof ShowEvents#eventRef\n\t\t * @instance\n\t\t * \n\t\t */\n\t\tlistenForEvents() {\n\n\t\t\t/**\n\t\t\t * Get the data\n\t\t\t * @param  {Object} snapshot value of the event\n\t\t\t */\n\t\t\tthis.eventRef.on(\"value\", function(snapshot) {\n\n\t\t\t  this.events = snapshot.val();\n\n\t\t\t  _redrawEvents(this.events);\n\t\t\t  \n\t\t\t}, function(err) {\n\n\t\t\t\tconsole.log('Error: ', err);\n\n\t\t\t});\n\n\t\t}\n\n\t};\n\n})(document);"],"sourceRoot":"/source/"}